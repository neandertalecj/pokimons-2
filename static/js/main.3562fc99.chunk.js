(this["webpackJsonptest-pokemon"]=this["webpackJsonptest-pokemon"]||[]).push([[0],{13:function(e,t,r){},15:function(e,t,r){"use strict";r.r(t);var n=r(1),c=r.n(n),a=r(8),o=r.n(a),s=(r(13),r(4)),l=r(2),i=r(7),d=function(e,t){var r=Object(n.useState)({loading:!1,data:void 0,error:void 0}),c=Object(l.a)(r,2),a=c[0],o=c[1];function s(e,t){o({loading:!0}),fetch(e,t).then((function(e){return e.json()})).then((function(e){o({loading:!1,data:e})})).catch((function(e){o({loading:!1,error:e})}))}return Object(n.useEffect)((function(){e&&s(e,t)}),[]),Object(i.a)(Object(i.a)({},a),{},{fetchNow:s})},b=r(0),u=function(e){var t=e.color,r=e.className;return Object(b.jsx)("svg",{fill:t,viewBox:"0 0 1792 1792",className:"".concat(r," flex-no-shrink animate-spin"),xmlns:"http://www.w3.org/2000/svg",children:Object(b.jsx)("path",{d:"M1760 896q0 176-68.5 336t-184 275.5-275.5 184-336 68.5-336-68.5-275.5-184-184-275.5-68.5-336q0-213 97-398.5t265-305.5 374-151v228q-221 45-366.5 221t-145.5 406q0 130 51 248.5t136.5 204 204 136.5 248.5 51 248.5-51 204-136.5 136.5-204 51-248.5q0-230-145.5-406t-366.5-221v-228q206 31 374 151t265 305.5 97 398.5z"})})},j=function(e){var t=e.color,r=e.className,n=e.screenHeight;return Object(b.jsx)("div",{className:"".concat(n," flex justify-center items-center space-x-3 md:space-x-6 flex-wrap"),children:Object(b.jsx)(u,{color:t,className:r})})},m=function(e){var t=e.name,r=e.className,n=e.onFilter;return Object(b.jsx)("div",{className:"border-2 bg-gradient-to-t ".concat({grass:"from-green-300 to-green-100 border-green-500",poison:"from-purple-400 to-purple-100 border-purple-500",fire:"from-red-400 to-red-100 border-red-500",flying:"from-blue-400 to-blue-100 border-blue-500",water:"from-blue-500 to-blue-300 border-blue-700",bug:"from-gray-400 to-gray-100 border-gray-500",electric:"from-yellow-400 to-yellow-100 border-yellow-500",ground:"from-yellow-600 to-yellow-300 border-yellow-700",fairy:"from-red-200 to-red-50 border-red-400"}[t]," rounded ").concat(r," text-center"),onClick:n,children:t})},f=function(e){var t=e.pokData,r=e.onImageClick,c=Object(n.useState)("loading"),a=Object(l.a)(c,2),o=a[0],s=a[1],i=t.name,d=t.id,u=t.type;return Object(b.jsx)("li",{className:"sm:w-1/2 md:w-1/3 mb-8",children:Object(b.jsxs)("div",{className:"border border-black px-5 pb-16 mx-4",children:[Object(b.jsx)("img",{className:"my-4 cursor-pointer",src:"https://pokeres.bastionbot.org/images/pokemon/".concat(d,".png"),alt:i,onLoad:function(){s("loaded")},onError:function(){s("failed to load")},onClick:function(){return r(d)}}),"failed to load"===o&&o,"loading"===o&&Object(b.jsx)(j,{color:"#1d4ed8",className:"h-10",screenHeight:""}),Object(b.jsx)("div",{className:"capitalize font-medium text-center",children:i}),Object(b.jsx)("div",{className:"flex space-x-2",children:t&&u.map((function(e){return Object(b.jsx)(m,{name:e,className:"w-1/2"},e)}))})]})})},x={attack:"Attack",defense:"Defense",hp:"HP",spAttack:"SP Attack",spDefense:"SP Defense",speed:"Speed",weight:"Weight",totalMoves:"Tottal moves"},p=function(e){var t=e.info,r=e.onClose,n=t[0],c=n.name,a=n.id,o=n.type,s=n.tab;console.log("POKEMON_INFO",t);var l;return Object(b.jsx)("div",{className:"h-screen bg-gray-400 lg:bg-transparent",children:Object(b.jsxs)("div",{className:"text-center border border-black p-5 lg:max-w-xs relative bg-white",children:[Object(b.jsx)("div",{className:"cursor-pointer visible lg:invisible absolute right-5 bg-gray-300 py-1 px-3 rounded-full hover:bg-gray-400",onClick:r,children:"x"}),Object(b.jsx)("div",{className:"max-w-xs mx-auto",children:Object(b.jsx)("img",{className:"inline-block",src:"https://pokeres.bastionbot.org/images/pokemon/".concat(a,".png"),alt:c})}),Object(b.jsxs)("div",{className:"text-center font-medium text-1xl capitalize py-2",children:[c," #",function e(t,r){return console.log("STR",t,r),(t=t.toString()).length<r?e("0"+t,r):t}(a,3)]}),Object(b.jsx)("div",{className:"max-w-xs m-auto",children:Object(b.jsx)("table",{className:"table-fixed border-collapse border border-black w-full",children:Object(b.jsxs)("tbody",{children:[Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{className:"w-3/4 border border-black",children:"Type"}),Object(b.jsx)("td",{className:"w-1/4 border border-black",children:o&&(l=o,l.reduce((function(e,t){return"".concat(e,", ").concat(t).replace(/^, /,"")}),""))})]}),s&&Object.entries(s).map((function(e){return Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{className:"border border-black",children:x[e[0]]}),Object(b.jsx)("td",{className:"border border-black",children:e[1]})]},e[0])}))]})})})]})})},h=function(e){var t=e.typesOnPage,r=e.onFilter;return Object(b.jsxs)("div",{className:"pb-52",children:[Object(b.jsx)("h2",{className:"font-medium text-2xl",children:"Sorting page elements by a choosen type"}),Object(b.jsx)("div",{className:"flex flex-wrap space-x-2",children:t&&t.map((function(e){return Object(b.jsx)(m,{className:"w-32 my-2 cursor-pointer",name:e,onFilter:function(){return r(e)}},e)}))})]})},g=function(e){var t,r=e.data,c=e.loading,a=e.error,o=e.onLoadMore,i=e.onFilter,d=Object(n.useState)(null),u=Object(l.a)(d,2),m=u[0],x=u[1],g=function(e){return x(e)};return c?Object(b.jsx)(j,{color:"#1d4ed8",className:"h-20",screenHeight:"h-screen"}):a?(console.log("error",a),null):Object(b.jsxs)("div",{children:[Object(b.jsxs)("div",{className:"container mx-auto flex relative",children:[Object(b.jsxs)("div",{className:"w-full lg:w-3/5",children:[Object(b.jsx)("ul",{className:"flex flex-col sm:flex-row flex-wrap",children:r&&r.map((function(e){return Object(b.jsx)(f,{pokData:e,onImageClick:g},e.id)}))}),Object(b.jsx)("button",{className:"w-full py-2 rounded bg-blue-400 text-white font-medium",onClick:o,children:"Load More"})]}),Object(b.jsx)("div",{className:"lg:w-2/5",children:Object(b.jsx)("div",{className:"fixed left-0 lg:left-2/3 right-0 top-0 lg:top-32 bg-white",children:m&&Object(b.jsx)(p,{info:(t=m,r.filter((function(e){return e.id===t}))),onClose:function(){return x(null)}})})})]}),Object(b.jsx)("div",{className:"container mx-auto pt-20",children:Object(b.jsx)("div",{children:Object(b.jsx)(h,{typesOnPage:r.reduce((function(e,t){return[].concat(Object(s.a)(e),Object(s.a)(t.type))}),[]).filter((function(e,t,r){return r.indexOf(e)===t})),onFilter:i})})})]})},O=function(){var e=d("https://pokeapi.co/api/v2/pokemon?limit=12"),t=e.data,r=e.loading,c=e.error,a=e.fetchNow,o=Object(n.useState)([]),i=Object(l.a)(o,2),u=i[0],j=i[1];Object(n.useEffect)((function(){t&&Promise.all(t.results.map((function(e){var t=e.url;return fetch(t).then(m).then(f).catch((function(e){return console.log("There was a problem!",e)}))}))).then((function(e){t&&j(x(t,e))}))}),[t]);var m=function(e){return e.ok?Promise.resolve(e):Promise.reject(new Error(e.statusText))},f=function(e){return e.json()},x=function(e,t){return e.results.map((function(e){var r,n=null,c=t.filter((function(t){return n=e.url.match(/\d+/g).slice(-1)[0],+t.id===+n}));return{url:e.url,name:e.name,id:n,type:(r=c[0],r.types.map((function(e){return e.type.name}))),tab:{attack:c[0].stats[1].base_stat,defense:c[0].stats[2].base_stat,hp:c[0].stats[0].base_stat,spAttack:c[0].stats[3].base_stat,spDefense:c[0].stats[4].base_stat,speed:c[0].stats[5].base_stat,weight:c[0].weight,totalMoves:c[0].moves.length}}}))};return Object(b.jsx)("div",{children:Object(b.jsx)(g,{data:u,loading:r,error:c,onLoadMore:function(){return a(t.next)},onFilter:function(e){var t=u.sort((function(t,r){return t.type.includes(e)?-1:1}));j(Object(s.a)(t))}})})};var v=function(){return Object(b.jsxs)("div",{children:[Object(b.jsx)("div",{className:"text-center py-5",children:Object(b.jsx)("div",{className:"capitalize text-center border border-black inline-block py-2 px-36 text-3xl font-medium",children:"pokedex"})}),Object(b.jsx)(O,{})]})},N=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,16)).then((function(t){var r=t.getCLS,n=t.getFID,c=t.getFCP,a=t.getLCP,o=t.getTTFB;r(e),n(e),c(e),a(e),o(e)}))};o.a.render(Object(b.jsx)(c.a.StrictMode,{children:Object(b.jsx)(v,{})}),document.getElementById("root")),N()}},[[15,1,2]]]);
//# sourceMappingURL=main.3562fc99.chunk.js.map