(this["webpackJsonptest-pokemon"]=this["webpackJsonptest-pokemon"]||[]).push([[0],{13:function(e,t,n){},15:function(e,t,n){"use strict";n.r(t);var r=n(1),c=n.n(r),o=n(8),a=n.n(o),s=(n(13),n(3)),l=n(2),i=n(7),d=function(e,t){var n=Object(r.useState)({loading:!1,data:void 0,error:void 0}),c=Object(l.a)(n,2),o=c[0],a=c[1];function s(e,t){a({loading:!0}),fetch(e,t).then((function(e){return e.json()})).then((function(e){a({loading:!1,data:e})})).catch((function(e){a({loading:!1,error:e})}))}return Object(r.useEffect)((function(){e&&s(e,t)}),[]),Object(i.a)(Object(i.a)({},o),{},{fetchNow:s})},u=n(0),b=function(e){var t=e.color,n=e.className;return Object(u.jsx)("svg",{fill:t,viewBox:"0 0 1792 1792",className:"".concat(n," flex-no-shrink animate-spin"),xmlns:"http://www.w3.org/2000/svg",children:Object(u.jsx)("path",{d:"M1760 896q0 176-68.5 336t-184 275.5-275.5 184-336 68.5-336-68.5-275.5-184-184-275.5-68.5-336q0-213 97-398.5t265-305.5 374-151v228q-221 45-366.5 221t-145.5 406q0 130 51 248.5t136.5 204 204 136.5 248.5 51 248.5-51 204-136.5 136.5-204 51-248.5q0-230-145.5-406t-366.5-221v-228q206 31 374 151t265 305.5 97 398.5z"})})},j=function(e){var t=e.color,n=e.className,r=e.screenHeight;return Object(u.jsx)("div",{className:"".concat(r," flex justify-center items-center space-x-3 md:space-x-6 flex-wrap"),children:Object(u.jsx)(b,{color:t,className:n})})},f=function(e){var t=e.name,n=e.className,r=e.onHadler;return Object(u.jsx)("div",{className:"border-2 bg-gradient-to-t ".concat({grass:"from-green-300 to-green-100 border-green-500",poison:"from-purple-400 to-purple-100 border-purple-500",fire:"from-red-400 to-red-100 border-red-500",flying:"from-blue-400 to-blue-100 border-blue-500",water:"from-blue-500 to-blue-300 border-blue-700",bug:"from-gray-400 to-gray-100 border-gray-500",electric:"from-yellow-400 to-yellow-100 border-yellow-500",ground:"from-yellow-600 to-yellow-300 border-yellow-700",fairy:"from-red-200 to-red-50 border-red-400"}[t]," rounded ").concat(n," text-center"),onClick:r,children:t})},m=function(e){var t=e.pokData,n=e.onImageClick,c=Object(r.useState)("loading"),o=Object(l.a)(c,2),a=o[0],s=o[1],i=t.name,d=t.id,b=t.type;return Object(u.jsx)("li",{className:"sm:w-1/2 md:w-1/3 mb-8",children:Object(u.jsxs)("div",{className:"border border-black px-5 pb-16 mx-4",children:[Object(u.jsx)("img",{className:"my-4 cursor-pointer",src:"https://pokeres.bastionbot.org/images/pokemon/".concat(d,".png"),alt:i,onLoad:function(){s("loaded")},onError:function(){s("failed to load")},onClick:function(){return n(d)}}),"failed to load"===a&&a,"loading"===a&&Object(u.jsx)(j,{color:"#1d4ed8",className:"h-10",screenHeight:""}),Object(u.jsx)("div",{className:"capitalize font-medium text-center",children:i}),Object(u.jsx)("div",{className:"flex space-x-2",children:t&&b.map((function(e){return Object(u.jsx)(f,{name:e,className:"w-1/2"},e)}))})]})})},x={attack:"Attack",defense:"Defense",hp:"HP",spAttack:"SP Attack",spDefense:"SP Defense",speed:"Speed",weight:"Weight",totalMoves:"Tottal moves"},p=function(e){var t,n=e.info,r=e.onClose,c=n[0],o=c.name,a=c.id,s=c.type,l=c.tab;return Object(u.jsx)("div",{className:"h-screen bg-gray-400 lg:bg-transparent",children:Object(u.jsxs)("div",{className:"text-center border border-black p-5 lg:max-w-xs relative bg-white",children:[Object(u.jsx)("div",{className:"cursor-pointer visible lg:invisible absolute right-5 bg-gray-300 py-1 px-3 rounded-full hover:bg-gray-400",onClick:r,children:"x"}),Object(u.jsx)("div",{className:"max-w-xs mx-auto",children:Object(u.jsx)("img",{className:"inline-block",src:"https://pokeres.bastionbot.org/images/pokemon/".concat(a,".png"),alt:o})}),Object(u.jsxs)("div",{className:"text-center font-medium text-1xl capitalize py-2",children:[o," #",function e(t,n){return(t=t.toString()).length<n?e("0"+t,n):t}(a,3)]}),Object(u.jsx)("div",{className:"max-w-xs m-auto",children:Object(u.jsx)("table",{className:"table-fixed border-collapse border border-black w-full",children:Object(u.jsxs)("tbody",{children:[Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{className:"w-3/4 border border-black",children:"Type"}),Object(u.jsx)("td",{className:"w-1/4 border border-black",children:s&&(t=s,t.reduce((function(e,t){return"".concat(e,", ").concat(t).replace(/^, /,"")}),""))})]}),l&&Object.entries(l).map((function(e){return Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{className:"border border-black",children:x[e[0]]}),Object(u.jsx)("td",{className:"border border-black",children:e[1]})]},e[0])}))]})})})]})})},h=function(e){var t=e.typesOnPage,n=e.onFilter,r=e.onSort;return Object(u.jsxs)("div",{className:"pb-52",children:[Object(u.jsx)("h2",{className:"font-medium text-2xl",children:"Filter"}),Object(u.jsxs)("div",{className:"flex flex-wrap space-x-2",children:[Object(u.jsx)(f,{className:"w-32 my-2 cursor-pointer",name:"All",onHadler:function(){return n("all")}},"all"),t&&t.map((function(e){return Object(u.jsx)(f,{className:"w-32 my-2 cursor-pointer",name:e,onHadler:function(){return n(e)}},e)}))]}),Object(u.jsx)("h2",{className:"font-medium text-2xl",children:"Sorting page elements by a choosen type"}),Object(u.jsx)("div",{className:"flex flex-wrap space-x-2",children:t&&t.map((function(e){return Object(u.jsx)(f,{className:"w-32 my-2 cursor-pointer",name:e,onHadler:function(){return r(e)}},e)}))})]})},g=function(e){var t,n=e.data,r=e.loading,c=e.error,o=e.onLoadMore,a=e.onFilter,l=e.onSort,i=e.infoPok,d=e.setInfoPok,b=e.handleCloseInfo,f=function(e){return d(e)};return r?Object(u.jsx)(j,{color:"#1d4ed8",className:"h-20",screenHeight:"h-screen"}):c?(console.log("error",c),null):Object(u.jsxs)("div",{children:[Object(u.jsxs)("div",{className:"container mx-auto flex relative",children:[Object(u.jsxs)("div",{className:"w-full lg:w-3/5",children:[Object(u.jsx)("ul",{className:"flex flex-col sm:flex-row flex-wrap",children:n&&n.map((function(e){return Object(u.jsx)(m,{pokData:e,onImageClick:f},e.id)}))}),Object(u.jsx)("button",{className:"w-full py-2 rounded bg-blue-400 text-white font-medium",onClick:function(){b(),o()},children:"Load More"})]}),Object(u.jsx)("div",{className:"lg:w-2/5",children:Object(u.jsx)("div",{className:"fixed left-0 lg:left-2/3 right-0 top-0 lg:top-32 bg-white",children:i&&Object(u.jsx)(p,{info:(t=i,n.filter((function(e){return e.id===t}))),onClose:b})})})]}),Object(u.jsx)("div",{className:"container mx-auto pt-20",children:Object(u.jsx)("div",{className:"w-full lg:w-3/5",children:Object(u.jsx)(h,{typesOnPage:n.reduce((function(e,t){return[].concat(Object(s.a)(e),Object(s.a)(t.type))}),[]).filter((function(e,t,n){return n.indexOf(e)===t})),onSort:l,onFilter:a})})})]})},O=function(){var e=d("https://pokeapi.co/api/v2/pokemon?limit=12"),t=e.data,n=e.loading,c=e.error,o=e.fetchNow,a=Object(r.useState)([]),i=Object(l.a)(a,2),b=i[0],j=i[1],f=Object(r.useState)([]),m=Object(l.a)(f,2),x=m[0],p=m[1],h=Object(r.useState)(null),O=Object(l.a)(h,2),v=O[0],w=O[1];Object(r.useEffect)((function(){t&&Promise.all(t.results.map((function(e){var t=e.url;return fetch(t).then(N).then(k).catch((function(e){return console.log("There was a problem!",e)}))}))).then((function(e){t&&j(y(t,e))}))}),[t]),Object(r.useEffect)((function(){b&&p(b)}),[b]);var N=function(e){return e.ok?Promise.resolve(e):Promise.reject(new Error(e.statusText))},k=function(e){return e.json()},y=function(e,t){return e.results.map((function(e){var n,r=null,c=t.filter((function(t){return r=e.url.match(/\d+/g).slice(-1)[0],+t.id===+r}));return{url:e.url,name:e.name,id:r,type:(n=c[0],n.types.map((function(e){return e.type.name}))),tab:{attack:c[0].stats[1].base_stat,defense:c[0].stats[2].base_stat,hp:c[0].stats[0].base_stat,spAttack:c[0].stats[3].base_stat,spDefense:c[0].stats[4].base_stat,speed:c[0].stats[5].base_stat,weight:c[0].weight,totalMoves:c[0].moves.length}}}))},S=function(){return w(null)};return console.log("DATA-M",x),console.log("DATA",b),Object(u.jsx)("div",{children:Object(u.jsx)(g,{data:x,loading:n,error:c,onLoadMore:function(){return o(t.next)},onSort:function(e){var t=x.sort((function(t,n){return t.type.includes(e)?-1:1}));p(Object(s.a)(t))},onFilter:function(e){if(S(),"all"===e)p(b);else{var t=x.filter((function(t){return t.type.includes(e)}));p(Object(s.a)(t))}},infoPok:v,setInfoPok:w,handleCloseInfo:S})})};var v=function(){return Object(u.jsxs)("div",{children:[Object(u.jsx)("div",{className:"text-center py-5",children:Object(u.jsx)("div",{className:"capitalize text-center border border-black inline-block py-2 px-36 text-3xl font-medium",children:"pokedex"})}),Object(u.jsx)(O,{})]})},w=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,16)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,o=t.getLCP,a=t.getTTFB;n(e),r(e),c(e),o(e),a(e)}))};a.a.render(Object(u.jsx)(c.a.StrictMode,{children:Object(u.jsx)(v,{})}),document.getElementById("root")),w()}},[[15,1,2]]]);
//# sourceMappingURL=main.1064049a.chunk.js.map